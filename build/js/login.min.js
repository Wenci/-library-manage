function initInput(){$("#account").val(""),$("#password").val("")}function blurAllInput(){$("#account").blur(),$("#password").blur()}$(function(){$("#account").blur(function(a){var b=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,c=this.value;return""===c?($("#account-info").css({display:"block"}),void $("#account-info").text("请输入账户名")):void(b.test(c)?($("#account-info").css({display:"none"}),console.log(5),$.post("../queryAccount",{account:$("#account").val()},function(a,b,c){"error"===a?($("#account-info").css({display:"block"}),$("#account-info").text("服务器错误")):"fail"===a?($("#account-info").css({display:"block"}),$("#account-info").text("该邮箱未注册")):"nActive"===a?($("#account-info").css({display:"block"}),$("#account-info").text("该账号未激活"),console.log(2)):"active"===a&&($("#account-info").css({display:"none"}),console.log(3))})):($("#account-info").css({display:"block"}),$("#account-info").text("邮箱格式错误")))}),$("#password").blur(function(b){var c=this.value;0!=c?($("#password-info").css({display:"none"}),a[1]=!0):(a[1]=!1,$("#password-info").css({display:"block"}),$("#password-info").text("请输入密码"))}),$("#login-form").submit(function(a){blurAllInput();var b=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,c=$("#account").val();return""===c?($("#account-info").css({display:"block"}),layer.msg("请输入账户名"),!1):b.test(c)?($("#account-info").css({display:"none"}),$.post("../queryAccount",{account:$("#account").val()},function(a,b,c){return"error"===a?void layer.msg("服务器错误"):"fail"===a?void layer.msg("该邮箱未注册"):"nActive"===a?void layer.msg("该账号未激活"):("active"===a&&$("#account-info").css({display:"none"}),void $.post("/login",{account:$("#account").val(),password:$("#password").val()},function(a,b,c){"error"===a?layer.msg("用户名或密码错误"):"success"===a&&(window.location.href="../")}))}),!1):($("#account-info").css({display:"block"}),layer.msg("邮箱格式错误"),!1)});var a=[]});